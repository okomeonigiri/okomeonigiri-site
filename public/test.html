<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <script async src="https://cse.google.com/cse.js?cx=92d128fbda9544ac7">
</script>
</head>
<body>
  <button onclick="load()">syutoku</button>
  <div class="search-container">
    <h2>YouTube Viewer</h2>
    <h4>by okome onigiri</h4>
    <p>キーワードを入力して動画を検索できます。</p>
    <div class="gcse-searchbox"></div>
    <div class="gcse-searchresults"></div>
  </div>
  <div id="img-area"></div>
  <script>
    // CSE検索ボックス・検索結果を常時非表示にする
    function hideCSE() {
      const style = document.createElement('style');
      style.textContent = `
        .gcse-searchbox, .gcse-searchresults { display: none !important; }
      `;
      document.head.appendChild(style);
    }
    hideCSE();

    function loadImgByCSE(VID){
      const textbox = document.querySelector('.gsc-input-box input');
      textbox.value = VID;
      const search_btn = document.querySelector('.gsc-search-button button');
      search_btn.click();
      setTimeout(() => {
        const all = document.querySelectorAll('.gsc-webResult .gsc-result');
        const first = all[0];
        if (first) {
          let img = first.querySelector('.gs-image');
          if (img) {
            const area = document.getElementById('img-area');
            area.innerHTML = '';
            area.appendChild(img.cloneNode(true));
          }
        }
      }, 1000);
    }
  </script>
</body>
</html>